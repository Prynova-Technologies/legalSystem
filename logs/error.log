{"level":"error","message":"Error connecting to MongoDB: connect ECONNREFUSED 127.0.0.1:27017, connect ECONNREFUSED ::1:27017","service":"law-firm-api","timestamp":"2025-04-30 13:43:27"}
{"isOperational":true,"level":"error","message":"Invalid or expired token","service":"law-firm-api","stack":"Error: Invalid or expired token\n    at authenticate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/middlewares/auth.ts:88:13)\n    at Layer.handle [as handle_request] (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:328:13)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:328:13)","statusCode":401,"timestamp":"2025-05-01 16:45:41"}
{"isOperational":true,"level":"error","message":"Invalid or expired token","service":"law-firm-api","stack":"Error: Invalid or expired token\n    at authenticate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/middlewares/auth.ts:88:13)\n    at Layer.handle [as handle_request] (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:328:13)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:328:13)","statusCode":401,"timestamp":"2025-05-01 16:45:41"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:99:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-05-01 20:17:17"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:99:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-05-01 20:18:22"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:99:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-05-01 20:25:38"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:99:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-05-01 20:31:29"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:99:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-05-01 20:39:50"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:99:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-05-01 20:40:18"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:99:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-05-01 20:41:18"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:99:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)","statusCode":401,"timestamp":"2025-05-01 20:41:41"}
{"isOperational":false,"level":"error","message":"Illegal arguments: string, undefined","service":"law-firm-api","stack":"Error: Illegal arguments: string, undefined\n    at _async (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/bcryptjs/dist/bcrypt.js:286:46)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/bcryptjs/dist/bcrypt.js:307:17\n    at new Promise (<anonymous>)\n    at Object.bcrypt.compare (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/bcryptjs/dist/bcrypt.js:306:20)\n    at model.<anonymous> (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:167:54)\n    at step (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:66:23)\n    at Object.next (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:47:53)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:41:71\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:37:12)","statusCode":500,"timestamp":"2025-05-01 20:42:27"}
{"isOperational":false,"level":"error","message":"Illegal arguments: string, undefined","service":"law-firm-api","stack":"Error: Illegal arguments: string, undefined\n    at _async (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/bcryptjs/dist/bcrypt.js:286:46)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/bcryptjs/dist/bcrypt.js:307:17\n    at new Promise (<anonymous>)\n    at Object.bcrypt.compare (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/bcryptjs/dist/bcrypt.js:306:20)\n    at model.<anonymous> (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:167:54)\n    at step (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:66:23)\n    at Object.next (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:47:53)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:41:71\n    at new Promise (<anonymous>)\n    at __awaiter (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/models/user.model.js:37:12)","statusCode":500,"timestamp":"2025-05-01 20:49:02"}
{"isOperational":true,"level":"error","message":"Authentication required","service":"law-firm-api","stack":"Error: Authentication required\n    at authenticate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/middlewares/auth.ts:30:13)\n    at Layer.handle [as handle_request] (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:328:13)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/express/lib/router/index.js:328:13)","statusCode":401,"timestamp":"2025-05-03 10:58:16"}
{"isOperational":false,"level":"error","message":"Client validation failed: primaryAttorney: Cast to ObjectId failed for value \"attorney2\" (type string) at path \"primaryAttorney\" because of \"BSONError\"","service":"law-firm-api","stack":"ValidationError: Client validation failed: primaryAttorney: Cast to ObjectId failed for value \"attorney2\" (type string) at path \"primaryAttorney\" because of \"BSONError\"\n    at model.Document.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:128:12)\n    at new model (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:4799:15)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:2758:20\n    at Array.map (<anonymous>)\n    at Function.create (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:2746:34)\n    at createClient (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/client.controller.ts:82:33)","statusCode":400,"timestamp":"2025-05-03 12:26:57"}
{"isOperational":false,"level":"error","message":"Client validation failed: primaryAttorney: Cast to ObjectId failed for value \"attorney1\" (type string) at path \"primaryAttorney\" because of \"BSONError\"","service":"law-firm-api","stack":"ValidationError: Client validation failed: primaryAttorney: Cast to ObjectId failed for value \"attorney1\" (type string) at path \"primaryAttorney\" because of \"BSONError\"\n    at model.Document.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:128:12)\n    at new model (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:4799:15)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:2758:20\n    at Array.map (<anonymous>)\n    at Function.create (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:2746:34)\n    at createClient (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/client.controller.ts:82:33)","statusCode":400,"timestamp":"2025-05-03 13:00:28"}
{"isOperational":false,"level":"error","message":"Client validation failed: primaryAttorney: Cast to ObjectId failed for value \"attorney1\" (type string) at path \"primaryAttorney\" because of \"BSONError\"","service":"law-firm-api","stack":"ValidationError: Client validation failed: primaryAttorney: Cast to ObjectId failed for value \"attorney1\" (type string) at path \"primaryAttorney\" because of \"BSONError\"\n    at model.Document.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3343:32)\n    at model.$set (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:1480:12)\n    at model.$set (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:1132:16)\n    at model.Document (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:128:12)\n    at new model (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:4799:15)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:2758:20\n    at Array.map (<anonymous>)\n    at Function.create (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:2746:34)\n    at createClient (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/client.controller.ts:82:33)","statusCode":400,"timestamp":"2025-05-03 13:00:58"}
{"isOperational":false,"level":"error","message":"Document validation failed: versions.0.fileName: Path `fileName` is required., versions.0.filePath: Path `filePath` is required., versions.0.uploadedBy: Path `uploadedBy` is required.","service":"law-firm-api","stack":"ValidationError: Document validation failed: versions.0.fileName: Path `fileName` is required., versions.0.filePath: Path `filePath` is required., versions.0.uploadedBy: Path `uploadedBy` is required.\n    at model.Document.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3343:32)\n    at EmbeddedDocument.Subdocument.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3104:17\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/schemaType.js:1407:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)","statusCode":400,"timestamp":"2025-05-04 13:50:05"}
{"isOperational":false,"level":"error","message":"Document validation failed: versions.0.uploadedBy: Path `uploadedBy` is required.","service":"law-firm-api","stack":"ValidationError: Document validation failed: versions.0.uploadedBy: Path `uploadedBy` is required.\n    at model.Document.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3343:32)\n    at EmbeddedDocument.Subdocument.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3104:17\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/schemaType.js:1407:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)","statusCode":400,"timestamp":"2025-05-04 14:23:47"}
{"isOperational":false,"level":"error","message":"Document validation failed: versions.0.uploadedBy: Path `uploadedBy` is required.","service":"law-firm-api","stack":"ValidationError: Document validation failed: versions.0.uploadedBy: Path `uploadedBy` is required.\n    at model.Document.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3343:32)\n    at EmbeddedDocument.Subdocument.invalidate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/types/subdocument.js:229:12)\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/document.js:3104:17\n    at /Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/schemaType.js:1407:9\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)","statusCode":400,"timestamp":"2025-05-04 14:26:21"}
{"isOperational":true,"level":"error","message":"Invalid credentials","service":"law-firm-api","stack":"Error: Invalid credentials\n    at login (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/auth.controller.ts:112:15)","statusCode":401,"timestamp":"2025-05-04 16:59:37"}
{"isOperational":false,"level":"error","message":"Cannot populate path `uploadedBy` because it is not in your schema. Set the `strictPopulate` option to false to override.","service":"law-firm-api","stack":"StrictPopulateError: Cannot populate path `uploadedBy` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:50:12)\n    at _populatePath (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:4445:21)\n    at Function.populate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:4412:21)\n    at model.Query._find (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/query.js:2407:20)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/query.js:4548:63)\n    at async getAllDocuments (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/document.controller.ts:39:23)","statusCode":400,"timestamp":"2025-05-04 17:13:49"}
{"isOperational":false,"level":"error","message":"Cannot populate path `uploadedBy` because it is not in your schema. Set the `strictPopulate` option to false to override.","service":"law-firm-api","stack":"StrictPopulateError: Cannot populate path `uploadedBy` because it is not in your schema. Set the `strictPopulate` option to false to override.\n    at getModelsMapForPopulate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/helpers/populate/getModelsMapForPopulate.js:50:12)\n    at _populatePath (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:4445:21)\n    at Function.populate (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/model.js:4412:21)\n    at model.Query._find (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/query.js:2407:20)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async model.Query.exec (/Users/ilyaseen19/Documents/projects/typescript/apis/law/node_modules/mongoose/lib/query.js:4548:63)\n    at async getAllDocuments (/Users/ilyaseen19/Documents/projects/typescript/apis/law/src/controllers/document.controller.ts:39:23)","statusCode":400,"timestamp":"2025-05-04 17:13:49"}
